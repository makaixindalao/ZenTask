---

### **项目需求文档：ZenTask - 极致简约的待办事项应用**

**版本：** 1.0
**日期：** 2025年6月21日

---

### **1. 项目概述**

#### **1.1 项目简介**
ZenTask 是一款基于 Web 的个人待办事项管理工具。它旨在通过一个干净、美观且无干扰的界面，帮助用户高效地组织任务、跟踪进度并专注于最重要的事情。应用的核心理念是“简约而不简单”，在提供强大功能的同时，保持极致的用户体验。

#### **1.2 目标用户**
- 需要管理个人任务的学生、白领和自由职业者。
- 追求效率和简约设计风格的用户。
- 需要一个跨设备（通过浏览器）同步任务的解决方案的用户。

#### **1.3 核心价值**
- **美学驱动：** 流畅的动画、优雅的布局和精选的配色方案，让任务管理成为一种享受。
- **高效专注：** 无广告，无冗余功能，帮助用户聚焦于任务本身。
- **轻量快速：** 采用现代前端技术，确保应用响应迅速，操作流畅。

---

### **2. 技术栈**

- **前端：**
  - **框架：** Vue 3 (Composition API)
  - **路由：** Vue Router
  - **状态管理：** Pinia
  - **HTTP请求：** Axios
  - **UI 框架/库：**
    - **选项A (推荐)：** 使用 [Tailwind CSS](https://tailwindcss.com/) 进行原子化 CSS 自定义，以实现最高程度的美观和定制化。
    - **选项B：** 使用 [Element Plus](https://element-plus.org/) 或 [Vuetify](https://vuetifyjs.com/)，并进行深度主题定制以满足美观要求。
  - **图标库：** [Heroicons](https://heroicons.com/) 或 [Lucide](https://lucide.dev/)

- **后端：**
  - **服务器框架：** Node.js 搭配 [Express.js](https://expressjs.com/) 或 [NestJS](https://nestjs.com/) (推荐 NestJS，结构更清晰)
  - **数据库：** MySQL 8.0+
  - **ORM (对象关系映射)：** [Prisma](https://www.prisma.io/) 或 [Sequelize](https://sequelize.org/) (推荐 Prisma，与 NestJS 配合良好)
  - **认证：** JWT (JSON Web Tokens)

---

### **3. 功能需求 (Functional Requirements)**

#### **3.1 用户模块 (FR-U)**
- **FR-U-01: 用户注册**
  - 用户可以通过 `邮箱` 和 `密码` 进行注册。
  - 后端对密码进行加盐哈希处理后存储。
  - 注册成功后自动登录。

- **FR-U-02: 用户登录**
  - 用户可以使用 `邮箱` 和 `密码` 登录。
  - 登录成功后，后端返回一个 JWT Token，前端负责存储。
  - 提供“记住我”选项，可延长 Token 有效期。

- **FR-U-03: 用户登出**
  - 用户可以主动登出，前端清除本地存储的 Token。

#### **3.2 任务列表/项目模块 (FR-P)**
- **FR-P-01: 创建列表**
  - 用户可以创建多个任务列表（或称为“项目”），例如“工作”、“生活”、“购物清单”。
  - 默认包含一个不可删除的“收件箱”列表。

- **FR-P-02: 查看列表**
  - 在侧边栏清晰地展示所有任务列表。
  - 显示每个列表中未完成的任务数量。

- **FR-P-03: 重命名列表**
  - 用户可以修改自定义列表的名称。

- **FR-P-04: 删除列表**
  - 用户可以删除自定义列表。删除时需要二次确认，并告知用户该列表下的所有任务也将被删除。

#### **3.3 任务模块 (FR-T)**
- **FR-T-01: 创建任务**
  - 在任意列表下，用户可以快速添加新任务。
  - 任务至少包含 `标题` (必填)。
  - 可选属性包括：`描述` (支持 Markdown)、`截止日期`、`优先级` (如：高、中、低)。

- **FR-T-02: 查看任务**
  - 在主区域展示当前选定列表下的所有任务。
  - 任务信息应清晰展示：完成状态、标题、截止日期、优先级标记。

- **FR-T-03: 更新任务**
  - 用户可以点击任务，在详情视图或弹窗中编辑任务的所有属性。
  - 用户可以一键标记任务为 `已完成` / `未完成`。

- **FR-T-04: 删除任务**
  - 用户可以删除单个任务，操作需要平滑的动画效果。

- **FR-T-05: 拖拽排序**
  - 在同一列表中，用户可以通过拖拽来手动调整任务的顺序。

#### **3.4 视图与筛选模块 (FR-V)**
- **FR-V-01: 智能视图**
  - 提供“今天”视图：自动显示所有截止日期为今天的任务。
  - 提供“最近7天”视图：自动显示未来7天内到期的任务。

- **FR-V-02: 任务筛选**
  - 在任务列表上方，提供筛选功能，可以按 `全部`、`未完成`、`已完成` 状态进行切换。

- **FR-V-03: 任务排序**
  - 提供排序选项，可按 `创建时间`、`截止日期`、`优先级`、`自定义排序`（拖拽结果）进行排序。

---

### **4. 非功能性需求 (Non-Functional Requirements)**

#### **4.1 用户体验与界面 (NFR-UX) - “效果美观”的核心**
- **NFR-UX-01: 响应式设计**
  - 界面必须在桌面、平板和手机端都能完美适配，提供一致的体验。

- **NFR-UX-02: 视觉设计**
  - **布局：** 采用经典的“三栏式”布局（侧边栏导航、任务列表、任务详情），或“两栏式”（侧边栏、主内容区）。布局要留有足够的“呼吸空间”（白边）。
  - **配色：** 提供 `浅色模式` 和 `深色模式`，并允许用户一键切换。配色方案应柔和、现代，避免高饱和度刺眼的颜色。
  - **字体：** 使用清晰易读的无衬线字体（如 Inter, Noto Sans SC）。
  - **图标：** 图标风格统一、简约。

- **NFR-UX-03: 微交互与动画**
  - **状态过渡：** 元素的显示/隐藏、添加/删除应有平滑的淡入淡出（Fade）、滑动（Slide）效果。
  - **操作反馈：** 点击按钮、完成任务时有微妙的动画反馈（如缩放、颜色变化）。
  - **加载状态：** 在数据请求时，显示优雅的加载指示器（Skeleton Screen 或 Spinner），而不是空白页面。
  - **空状态：** 当任务列表为空时，显示友好的提示和“添加任务”的引导。

#### **4.2 性能 (NFR-P)**
- **NFR-P-01: 首次加载时间** < 2秒。
- **NFR-P-02: API 响应时间** 平均 < 200毫秒。
- **NFR-P-03: 交互响应** 用户操作（如点击、拖拽）应立即得到视觉反馈，无卡顿感。

#### **4.3 安全性 (NFR-S)**
- **NFR-S-01:** 所有用户密码必须经过加盐哈希后存储。
- **NFR-S-02:** 所有 API 请求（除登录/注册外）必须通过 JWT 进行身份验证。
- **NFR-S-03:** 防止 SQL 注入（通过 ORM 实现）和 XSS 攻击（Vue 默认防御）。

---

### **5. 数据库模型设计 (MySQL Schema)**

```sql
-- 用户表
CREATE TABLE `users` (
  `id` INT AUTO_INCREMENT PRIMARY KEY,
  `email` VARCHAR(255) NOT NULL UNIQUE,
  `password_hash` VARCHAR(255) NOT NULL,
  `created_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- 任务列表/项目表
CREATE TABLE `projects` (
  `id` INT AUTO_INCREMENT PRIMARY KEY,
  `user_id` INT NOT NULL,
  `name` VARCHAR(100) NOT NULL,
  `is_inbox` BOOLEAN DEFAULT FALSE, -- 标记是否为默认收件箱
  `created_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (`user_id`) REFERENCES `users`(`id`) ON DELETE CASCADE
);

-- 任务表
CREATE TABLE `tasks` (
  `id` INT AUTO_INCREMENT PRIMARY KEY,
  `user_id` INT NOT NULL,
  `project_id` INT NOT NULL,
  `title` VARCHAR(255) NOT NULL,
  `description` TEXT,
  `status` ENUM('pending', 'completed') DEFAULT 'pending',
  `priority` ENUM('low', 'medium', 'high') DEFAULT 'medium',
  `due_date` DATE,
  `sort_order` INT DEFAULT 0, -- 用于自定义拖拽排序
  `created_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  `updated_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  FOREIGN KEY (`user_id`) REFERENCES `users`(`id`) ON DELETE CASCADE,
  FOREIGN KEY (`project_id`) REFERENCES `projects`(`id`) ON DELETE CASCADE
);
```

---

### **6. API 接口设计 (RESTful API)**

所有接口均以 `/api` 为前缀。

- **认证接口**
  - `POST /api/auth/register` - 注册
  - `POST /api/auth/login` - 登录

- **项目/列表接口 (需认证)**
  - `GET /api/projects` - 获取用户的所有列表
  - `POST /api/projects` - 创建新列表
  - `PUT /api/projects/:id` - 更新列表名称
  - `DELETE /api/projects/:id` - 删除列表

- **任务接口 (需认证)**
  - `GET /api/tasks` - 获取任务 (支持查询参数, e.g., `?projectId=1&status=pending`)
  - `POST /api/tasks` - 创建新任务
  - `GET /api/tasks/:id` - 获取单个任务详情
  - `PUT /api/tasks/:id` - 更新任务
  - `DELETE /api/tasks/:id` - 删除任务
  - `POST /api/tasks/reorder` - 批量更新任务顺序（用于拖拽）

---
